<div class="container pt-5">

    <h1> Edit "{{event.title}}"</h1>

    <form action="/admin/event/edit?_method=PUT" method="POST" id="projectSubmitForm" enctype="multipart/form-data">
        <!--Title INPUT-->
        <div class="form-group border border-light p-3">
            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="en-tab" data-toggle="tab" href="#en" role="tab" aria-controls="en"
                        aria-selected="true">En</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="ro-tab" data-toggle="tab" href="#ro" role="tab" aria-controls="ro"
                        aria-selected="false">Ro</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="ru-tab" data-toggle="tab" href="#ru" role="tab" aria-controls="ru"
                        aria-selected="false">Ru</a>
                </li>
            </ul>
            <div class="tab-content pt-2">
                <div class="tab-pane fade show active" id="en" role="tabpanel" aria-labelledby="en-tab">
                    <label for="title-en">Event name</label>
                    <input value="{{langSpec event.title "en" res}}" name="titleEn" type="text" class="form-control"
                        id="title-en" placeholder="Event">
                </div>
                <div class="tab-pane fade" id="ro" role="tabpanel" aria-labelledby="ro-tab">
                    <label for="title-ro">Denumirea evenimentului</label>
                    <input value="{{langSpec event.title "ro" res}}" name="titleRo" type="text" class="form-control"
                        id="title-ro" placeholder="Eveniment">
                </div>
                <div class="tab-pane fade" id="ru" role="tabpanel" aria-labelledby="ru-tab">
                    <label for="title-ru">Название события</label>
                    <input value="{{langSpec event.title "ru" res}}" name="titleRu" type="text" class="form-control"
                        id="title-ru" placeholder="Событие">
                </div>
            </div>
        </div>
        <!--Sub-title INPUT-->
        <div class="form-group border border-light p-3">
            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="en-tab-subtitle" data-toggle="tab" href="#en-sub-title" role="tab"
                        aria-controls="en" aria-selected="true">En</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="ro-tab-subtitle" data-toggle="tab" href="#ro-sub-title" role="tab"
                        aria-controls="ro" aria-selected="false">Ro</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="ru-tab-subtitle" data-toggle="tab" href="#ru-sub-title" role="tab"
                        aria-controls="ru" aria-selected="false">Ru</a>
                </li>
            </ul>
            <div class="tab-content pt-2">
                <div class="tab-pane fade show active" id="en-sub-title" role="tabpanel"
                    aria-labelledby="en-tab-subtitle">
                    <label for="sub-title-en">Event sub-title</label>
                    <input value="{{langSpec event.subTitle "en" res}}" name="subTitleEn" type="text"
                        class="form-control" id="title-en" placeholder="Event">
                </div>
                <div class="tab-pane fade" id="ro-sub-title" role="tabpanel" aria-labelledby="ro-tab-subtitle">
                    <label for="sub-title-ro">Sub-titlul evenimentului</label>
                    <input value="{{langSpec event.subTitle "ro" res}}" name="subTitleRo" type="text"
                        class="form-control" id="title-ro" placeholder="Eveniment">
                </div>
                <div class="tab-pane fade" id="ru-sub-title" role="tabpanel" aria-labelledby="ru-tab-subtitle">
                    <label for="sub-title-ru">Подзаголовок события</label>
                    <input value="{{langSpec event.subTitle "ru" res}}" name="subTitleRu" type="text"
                        class="form-control" id="title-ru" placeholder="Событие">
                </div>
            </div>
            <!--label for="briefDescription">Sub-Title</label>
            <textarea name="briefDescription" class="form-control" id="briefDescription" rows="2" required></textarea-->
        </div>
        <!--Description INPUT-->
        <div class="form-group border border-light p-3">
            <ul class="nav nav-tabs" role="tablist">
                <li class="nav-item">
                    <a class="nav-link active" id="en-tab-description" data-toggle="tab" href="#en-description"
                        role="tab" aria-controls="en" aria-selected="true">En</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="ro-tab-description" data-toggle="tab" href="#ro-description" role="tab"
                        aria-controls="ro" aria-selected="false">Ro</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" id="ru-tab-description" data-toggle="tab" href="#ru-description" role="tab"
                        aria-controls="ru" aria-selected="false">Ru</a>
                </li>
            </ul>
            <div class="tab-content pt-2">
                <div class="tab-pane fade show active" id="en-description" role="tabpanel"
                    aria-labelledby="en-tab-description">
                    <label>Detailed Description</label>
                    <!-- Create the editor container -->
                    <div id="editor-container-en"></div>
                    <textarea name="descriptionEn" style="display:none" id="hiddenArea-en"></textarea>
                </div>
                <div class="tab-pane fade" id="ro-description" role="tabpanel" aria-labelledby="ro-tab-description">
                    <label>Detailed Description</label>
                    <!-- Create the editor container -->
                    <div id="editor-container-ro"></div>
                    <textarea name="descriptionRo" style="display:none" id="hiddenArea-ro"></textarea>
                </div>
                <div class="tab-pane fade" id="ru-description" role="tabpanel" aria-labelledby="ru-tab-description">
                    <label>Detailed Description</label>
                    <!-- Create the editor container -->
                    <div id="editor-container-ru"></div>
                    <textarea name="descriptionRu" style="display:none" id="hiddenArea-ru"></textarea>
                </div>
            </div>
        </div>
        <div class="form-group">
            <label for="date">Override Date of event</label>
            <input value="{{event.date}}" type="date" name="date" id="date">
        </div>

        <div class="form-group">
            <label for="background">Override Project Background image</label> <input name="background" type="file"
                class="form-control-file" id="background">
        </div>
        <div class="form-group">
            <label for="thumbnail">Override Project thumbnail image</label>
            <input name="thumbnail" type="file" class="form-control-file" id="thumbnail">
        </div>
        <input type="text" name="id" value="{{event._id}}" style="display:none">
        <a href="/admin/events" class="btn btn-secondary">Cancel</a>
        <button type="submit" class="btn btn-primary">Save</button>

    </form>


</div>

<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">


<!-- Include the Quill library -->
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>

<!-- Initialize Quill editor -->
<script>
    const toolbarOptions = [
        ['bold', 'italic', 'underline', 'strike'],        // toggled buttons
        ['blockquote', 'code-block'],
        [{ 'list': 'ordered' }, { 'list': 'bullet' }],
        [{ 'script': 'sub' }, { 'script': 'super' }],      // superscript/subscript
        [{ 'indent': '-1' }, { 'indent': '+1' }],          // outdent/indent

        [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown
        [{ 'header': [1, 2, 3, 4, 5, 6, false] }],

        [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme
        [{ 'font': [] }],
        [{ 'align': [] }],

        ['image'],
        ['clean']                                         // remove formatting button
    ];

    var quillEn = new Quill('#editor-container-en', {
        modules: {
            toolbar: toolbarOptions
        },
        placeholder: 'Description',
        theme: 'snow'  // or 'bubble'
    });

    var quillRo = new Quill('#editor-container-ro', {
        modules: {
            toolbar: toolbarOptions
        },
        placeholder: 'Descriere',
        theme: 'snow'  // or 'bubble'
    });

    var quillRu = new Quill('#editor-container-ru', {
        modules: {
            toolbar: toolbarOptions
        },
        placeholder: 'Описание',
        theme: 'snow'  // or 'bubble'
    });

    const contentsEn = {{{ event.descriptionEn }}}
    quillEn.setContents(contentsEn.ops);

    const contentsRo = {{{ event.descriptionRo }}}
    quillRo.setContents(contentsRo.ops);

    const contentsRu = {{{ event.descriptionRu }}}
    quillRu.setContents(contentsRu.ops);

    $("#projectSubmitForm").on("submit", () => {
        $("#hiddenArea-en").val(JSON.stringify(quillEn.getContents()))
        $("#hiddenArea-ro").val(JSON.stringify(quillRo.getContents()))
        $("#hiddenArea-ru").val(JSON.stringify(quillRu.getContents()))
    });



</script>